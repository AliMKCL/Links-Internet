@font-face {
    font-family: 'Hylia Serif Beta';
    src: url('/fonts/HyliaSerifBeta-Regular.woff2') format('woff2'),
        url('/fonts/HyliaSerifBeta-Regular.woff') format('woff');
    font-weight: normal;
    font-style: normal;
    font-display: swap;
}

body {
    background: url('/static/background1.jpg') center center no-repeat;
    background-size: cover;
    background-attachment: fixed;
    font-family: 'Segoe UI', Arial, sans-serif;
    color: #222;
    min-height: 100vh;
    margin: 0;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 0;
}

.container {
    background: rgba(255, 255, 255, 0.7);
    border-radius: 16px;
    box-shadow: 0 4px 24px rgba(0, 0, 0, 0.12);
    padding: 1.5rem;
    margin: 0;
    width: 67.5%;
    max-width: 600px;
    height: 60vh;
    max-height: 60vh;
    display: flex;
    flex-direction: column;
    overflow: hidden;
    transition: all 0.3s ease;
    position: relative;
}

/* Expanded container after submit button is pressed */
.container.expanded {
    width: 90%;
    max-width: 800px;
    height: 80vh;
    max-height: 80vh;
    padding: 2rem;
}

h1 {
    text-align: center;
    color: #185a9d;
    margin-bottom: 1.5rem;
    font-family: 'Hylia Serif Beta', 'Segoe UI', Arial, sans-serif;
    font-size: 2.2rem;
    text-shadow: 0 2px 4px rgba(24, 90, 157, 0.3);
    flex-shrink: 0;
}

/* Form row styling - updated for flexbox layout */
.form-row {
    display: flex;
    gap: 10px;
    align-items: stretch;
    margin-bottom: 1rem;
    flex-shrink: 0;
    width: 100%;
    margin-left: 0;
    margin-right: 0;
}

.query-input {
    flex: 1;
    padding: 0.75rem;
    border-radius: 8px;
    border: 1px solid #43cea2;
    font-size: 1.1rem;
    outline: none;
    transition: border 0.2s;
    min-width: 0;
}

.metric-select {
    flex: 0 0 25%;
    /* Increased from 20% to maintain proportion */
    padding: 0.75rem;
    border-radius: 8px;
    border: 1px solid #43cea2;
    font-size: 1.1rem;
    outline: none;
    transition: border 0.2s;
}

.query-input:focus,
.metric-select:focus {
    border: 1.5px solid #185a9d;
}

/* Button row styling - centered */
.button-row {
    display: flex;
    justify-content: center;
    gap: 1rem;
    align-items: center;
    margin-bottom: 1rem;
    flex-shrink: 0;
}

/* Submit button styling - matches input height */
.submit-button,
button {
    background: linear-gradient(90deg, #43cea2 0%, #185a9d 100%);
    color: #fff;
    border: none;
    border-radius: 8px;
    padding: 0.75rem 2rem;
    font-size: 1.1rem;
    cursor: pointer;
    transition: filter 0.2s;
    margin-bottom: 0;
    font-family: 'Hylia Serif Beta', 'Segoe UI', Arial, sans-serif;
    flex-shrink: 0;
    height: auto;
    min-height: 100%;
    white-space: nowrap;
}

button:hover,
.submit-button:hover {
    filter: brightness(0.85);
}

.submit-button:hover {
    filter: brightness(0.85);
}

/* CSS-only toggle functionality */
.toggle-checkbox {
    display: none;
}

.toggle-label {
    display: inline-block;
    padding: 6px 16px;
    border-radius: 6px;
    border: none;
    color: #fff;
    cursor: pointer;
    font-size: 0.9em;
    text-decoration: none;
    transition: filter 0.2s;
    margin-right: 8px;
    margin-top: 6px;
    margin-bottom: 4px;
}

.toggle-label:hover {
    filter: brightness(0.9);
}

/* Button colors */
.content-button {
    background: #185a9d;
}

.comments-button {
    background: #43cea2;
}

/* Hide content by default */
.toggle-content {
    display: none;
    background-color: #f5f5f5;
    padding: 15px;
    border-radius: 8px;
    margin-top: 0px;
    margin-bottom: 0px;
    max-height: 500px;
    overflow-y: auto;
    font-size: 0.95em;
}

.content-section {
    border-left: 4px solid #185a9d;
}

.comments-section {
    background-color: #f0f8ff;
    border-left: 4px solid #43cea2;
    max-height: 400px;
    font-size: 0.9em;
}

/* Show content when checkbox is checked */
.toggle-checkbox:checked+.toggle-label+.toggle-content {
    display: block;
}

/* Change label text when checked */
.toggle-label.content-button::after {
    content: "See content";
}

.toggle-label.comments-button::after {
    content: "See comments";
}

.toggle-checkbox:checked+.toggle-label.content-button::after {
    content: "Hide content";
}

.toggle-checkbox:checked+.toggle-label.comments-button::after {
    content: "Hide comments";
}

/* Hide the original label text and show only ::after content */
.toggle-label {
    font-size: 0;
}

.toggle-label::after {
    font-size: 0.9em;
}

/* Additional styling for post elements */
.subreddit-name {
    color: #43cea2;
    font-weight: bold;
}

.post-title {
    color: #185a9d;
    font-weight: bold;
    text-decoration: none;
}

.post-title:hover {
    text-decoration: underline;
}

.post-summary {
    font-size: 1em;
    color: #222;
}

.ocarina_link {
    height: 500px;
    width: 500px;
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-58%, -25%);
    z-index: 1;
    justify-content: center;
}

#output {
    /*margin-top: 0.75rem;*/
    /* Reduced from 1.5rem */
    padding: 1rem;
    background: #ffffff, 0.7;
    border-radius: 10px;
    min-height: 60px;
    /*box-shadow: 0 2px 8px rgba(24, 90, 157, 0.08);*/
    color: #185a9d;
    font-size: 1.05rem;
    white-space: pre-line;
    flex: 1;
    overflow-y: auto;
    word-wrap: break-word;
    overflow-wrap: break-word;
}

/* Styling for tables in post content */
#output table {
    border-collapse: collapse;
    width: 100%;
    margin: 15px 0;
    font-size: 0.9em;
    table-layout: auto;
}

#output table,
#output th,
#output td {
    border: 1px solid #ccc;
}

#output th,
#output td {
    padding: 8px;
    text-align: left;
    vertical-align: top;
    word-wrap: break-word;
    max-width: 300px;
}

#output th {
    background-color: #f2f2f2;
    color: #185a9d;
    font-weight: bold;
}

#output tr:nth-child(even) {
    background-color: #f9f9f9;
}

#output tr:hover {
    background-color: #f0f8ff;
}

#output strong {
    color: #185a9d;
}

#output pre {
    background: #f5f5f5;
    border-left: 3px solid #185a9d;
    padding: 10px;
    overflow-x: auto;
    font-family: monospace;
}

#output h2,
#output h3,
#output h4 {
    color: #185a9d;
    margin-top: 20px;
    margin-bottom: 10px;
    border-bottom: 1px solid #eee;
    padding-bottom: 5px;
}

.table-responsive {
    overflow-x: auto;
    margin-bottom: 15px;
}

.post-content {
    line-height: 1.5;
}

.post-content h2 {
    font-size: 1.5em;
}

.post-content h3 {
    font-size: 1.3em;
}

.post-content h4 {
    font-size: 1.1em;
}

.post-content ul,
.post-content ol {
    padding-left: 25px;
}

.post-content blockquote {
    border-left: 3px solid #185a9d;
    padding-left: 10px;
    margin-left: 0;
    color: #666;
}

/* Post styling */
.post-item {
    margin-bottom: 80px;
    /* Reduced from 0.5em to 0.025em (half the size) */
    /* border-bottom: 1px solid #eee; */
    /* Removed for sleek look */
    padding-bottom: 0.5em;
    padding-top: 0.025em;
    /* Increased bottom padding to accommodate content */
    overflow: visible;
    /* Allow content to expand the container */
}

.post-buttons-container {
    margin-top: 4px;
    margin-bottom: 0px;
    /* Remove any bottom margin */
    position: relative;
    /* Allow positioning of content */
}

.post-buttons {
    white-space: nowrap;
}

.content-button,
.comments-button {
    display: inline-block;
    padding: 6px 16px;
    border-radius: 6px;
    border: none;
    color: #fff;
    cursor: pointer;
    font-size: 0.9em;
}

.content-button {
    background: #185a9d;
    margin-right: 8px;
}

.comments-button {
    background: #43cea2;
}

.content-section,
.comments-section {
    background-color: #f5f5f5;
    padding: 15px;
    border-radius: 8px;
    margin-top: 0px;
    margin-bottom: 0px;
    max-height: 500px;
    overflow-y: auto;
    font-size: 0.95em;
    position: relative;
    /* Ensure proper positioning */
    clear: both;
    /* Clear any floating elements */
}

.content-section {
    border-left: 4px solid #185a9d;
}

.comments-section {
    background-color: #f0f8ff;
    border-left: 4px solid #43cea2;
    max-height: 400px;
    font-size: 0.9em;
}

/* Toggle Switch Styles */
.view-toggle-container {
    margin: 0;
    margin-left: 30px;
    padding: 0;
    background: transparent;
    border: none;
    display: flex;
    align-items: center;
    gap: 1rem;
    box-shadow: none;
    backdrop-filter: none;
    border-radius: 0;
    height: 46px;
    /* Match button height */
}

.switch {
    --button-width: 3.5em;
    --button-height: 2em;
    --toggle-diameter: 1.5em;
    --button-toggle-offset: calc((var(--button-height) - var(--toggle-diameter)) / 2);
    --toggle-shadow-offset: 10px;
    --toggle-wider: 3em;
    --color-grey: #cccccc;
    --color-green: #4296f4;
}

.slider {
    display: inline-block;
    width: var(--button-width);
    height: var(--button-height);
    background-color: var(--color-grey);
    border-radius: calc(var(--button-height) / 2);
    position: relative;
    transition: 0.3s all ease-in-out;
}

.slider::after {
    content: "";
    display: inline-block;
    width: var(--toggle-diameter);
    height: var(--toggle-diameter);
    background-color: #fff;
    border-radius: calc(var(--toggle-diameter) / 2);
    position: absolute;
    top: var(--button-toggle-offset);
    transform: translateX(var(--button-toggle-offset));
    box-shadow: var(--toggle-shadow-offset) 0 calc(var(--toggle-shadow-offset) * 4) rgba(0, 0, 0, 0.1);
    transition: 0.3s all ease-in-out;
}

.switch input[type="checkbox"]:checked+.slider {
    background-color: var(--color-green);
}

.switch input[type="checkbox"]:checked+.slider::after {
    transform: translateX(calc(var(--button-width) - var(--toggle-diameter) - var(--button-toggle-offset)));
    box-shadow: calc(var(--toggle-shadow-offset) * -1) 0 calc(var(--toggle-shadow-offset) * 4) rgba(0, 0, 0, 0.1);
}

.switch input[type="checkbox"] {
    display: none;
}

.switch input[type="checkbox"]:active+.slider::after {
    width: var(--toggle-wider);
}

.switch input[type="checkbox"]:checked:active+.slider::after {
    transform: translateX(calc(var(--button-width) - var(--toggle-wider) - var(--button-toggle-offset)));
}

.toggle-labels {
    display: flex;
    align-items: center;
    gap: 0.75rem;
}

.toggle-label-text {
    font-weight: 600;
    font-size: 1.1rem;
    color: #185a9d;
    font-family: 'Hylia Serif Beta', 'Segoe UI', Arial, sans-serif;
    cursor: pointer;
    transition: color 0.3s ease;
}

.toggle-label-text:hover {
    color: #43cea2;
}

/* Mobile responsiveness */
@media (max-width: 768px) {
    .container {
        width: 71.25%;
        height: 63.75vh;
        max-height: 63.75vh;
        padding: 1.125rem;
    }

    .container.expanded {
        width: 95%;
        height: 85vh;
        max-height: 85vh;
        padding: 1.5rem;
    }

    .form-row {
        flex-direction: column;
        gap: 0.5rem;
        margin-right: 0;
        /* Removed padding to match output section alignment */
    }

    .query-input,
    .metric-select {
        flex: none;
        width: 100%;
    }

    .button-row {
        flex-direction: column;
        gap: 0.75rem;
        align-items: stretch;
        /* Removed padding to match output section alignment */
    }

    .view-toggle-container {
        width: 100%;
        justify-content: center;
        gap: 0.5rem;
    }

    .switch {
        --button-width: 3em;
        --button-height: 1.8em;
        --toggle-diameter: 1.3em;
    }

    .toggle-label-text {
        font-size: 12px;
    }
}

/* Focus states for accessibility */
.switch:focus-within .slider {
    outline: 2px solid #43cea2;
    outline-offset: 2px;
}

.toggle-label-text:focus {
    outline: 2px solid #43cea2;
    outline-offset: 1px;
}